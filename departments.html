<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <title>Departments ‚Äì Ticket Routing Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Ekstern CSS -->
    <link rel="stylesheet" href="departments.css">

    <!-- JS til departments-siden -->
    <script type="module" src=".idea/js/departments.js"></script>
</head>

<body>
<div class="app-shell">

    <!-- HEADER -->
    <header class="topbar">
        <div class="topbar-inner">
            <div class="brand">
                <div class="brand-logo">itm8</div>
                <div>
                    <div class="brand-text-main">
                        <div class="brand-title">Ticket Routing Tool</div>
                        <span class="brand-pill">Internal</span>
                    </div>
                    <div class="brand-subtitle">
                        Routing performance &amp; kvalitetsoverblik
                    </div>
                </div>
            </div>

            <nav class="topbar-nav">
                <a href="./index.html" class="nav-link">
                    <span class="dot"></span>
                    <span>Dashboard</span>
                </a>
                <a href="./departments.html" class="nav-link nav-link-active">
                    <span class="dot"></span>
                    <span>Departments</span>
                </a>
            </nav>
        </div>
    </header>

    <!-- CONTENT -->
    <main class="page">

        <div class="heading">
            <div class="back" onclick="window.location.href='index.html'">‚Üê Tilbage til dashboard</div>
            <h1>Departments</h1>
            <p>Administration af departments og overblik over routingperformance.</p>
        </div>

        <div class="card">
            <div class="card-header-row">
                <div class="card-header-text">
                    <div class="card-title">Department-oversigt</div>
                    <div class="card-subtitle">
                        Klik p√• et department for at √•bne dets routingdashboard.
                    </div>
                </div>

                <div class="toolbar">
                    <div class="toolbar-search">
                        <span class="toolbar-search-icon">üîç</span>
                        <input
                                id="departmentSearch"
                                type="text"
                                placeholder="S√∏g efter department..."
                        />
                    </div>

                    <button class="toolbar-chip toolbar-chip-active" type="button">
                        <span class="dot"></span>
                        Alle
                    </button>
                    <button class="toolbar-chip" type="button">
                        <span class="dot"></span>
                        H√∏j accuracy
                    </button>
                    <button class="toolbar-chip" type="button">
                        <span class="dot"></span>
                        Lav accuracy
                    </button>

                    <!-- Knap til at √•bne add-department form -->
                    <button id="toggleAddDepartment" class="toolbar-button-primary" type="button">
                        <span>Ôºã</span>
                        <span>Nyt department</span>
                    </button>
                </div>
            </div>

            <!-- Add department form (skjult som udgangspunkt) -->
            <div id="addDepartmentContainer" class="add-department-container hidden">
                <div class="add-department-title">Tilf√∏j nyt department</div>

                <form id="addDepartmentForm">
                    <div class="add-department-grid">
                        <div class="add-department-field">
                            <label for="newDepartmentName" class="add-department-label">
                                Navn <span style="color:#b91c1c">*</span>
                            </label>
                            <input
                                    id="newDepartmentName"
                                    type="text"
                                    class="add-department-input"
                                    placeholder="F.eks. Service Desk DK"
                                    required
                            />
                        </div>

                        <div class="add-department-field">
                            <label for="newDepartmentMail" class="add-department-label">
                                Mailadresse <span style="color:#b91c1c">*</span>
                            </label>
                            <input
                                    id="newDepartmentMail"
                                    type="email"
                                    class="add-department-input"
                                    placeholder="fx servicedesk@itm8.com"
                                    required
                            />
                        </div>

                        <div class="add-department-actions">
                            <button type="submit" id="saveDepartmentBtn" class="btn-primary">
                                Gem
                            </button>
                            <button type="button" id="cancelAddDepartment" class="btn-ghost">
                                Annull√©r
                            </button>
                        </div>
                    </div>

                    <div id="addDepartmentMessage" class="add-department-error hidden"></div>
                </form>
            </div>

            <!-- Edit department form (skjult, vises n√•r man v√¶lger "Rediger") -->
            <div id="editDepartmentContainer" class="add-department-container hidden">
                <div class="add-department-title">Rediger department</div>

                <form id="editDepartmentForm">
                    <div class="add-department-grid">
                        <div class="add-department-field">
                            <label for="editDepartmentName" class="add-department-label">
                                Navn <span style="color:#b91c1c">*</span>
                            </label>
                            <input
                                    id="editDepartmentName"
                                    type="text"
                                    class="add-department-input"
                                    required
                            />
                        </div>

                        <div class="add-department-field">
                            <label for="editDepartmentMail" class="add-department-label">
                                Mailadresse <span style="color:#b91c1c">*</span>
                            </label>
                            <input
                                    id="editDepartmentMail"
                                    type="email"
                                    class="add-department-input"
                                    required
                            />
                        </div>

                        <div class="add-department-actions">
                            <button type="submit" id="updateDepartmentBtn" class="btn-primary">
                                Gem √¶ndringer
                            </button>
                            <button type="button" id="cancelEditDepartment" class="btn-ghost">
                                Annull√©r
                            </button>
                        </div>
                    </div>

                    <div id="editDepartmentMessage" class="add-department-error hidden"></div>
                </form>
            </div>

            <!-- Her skriver departments.js stadig listen ind -->
            <div id="department-output">Henter departments...</div>
        </div>

    </main>

    <!-- FOOTER -->
    <footer class="footer">
        <span>itm8 ‚Ä¢ Ticket Routing Tool</span>
        <span class="footer-divider">‚Ä¢</span>
        <span>Internal dashboard</span>
    </footer>

</div>
</body>
</html>
